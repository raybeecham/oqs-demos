<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <title>Algorithm Performance Test</title>
      <link rel="stylesheet" href="/static/style.css">
   </head>
   <body>
      <header>
         <div class="container">
            <div id="branding">
               <h1>Quantum-Safe Cryptography Tester</h1>
            </div>
            <nav>
               <ul>
                  <li class="current"><a href="/">Home</a></li>
               </ul>
            </nav>
         </div>
      </header>
      <section class="container">
         <h2>Algorithm Performance Test</h2>
         <form id="alg-test-form" action="/alg-perf/run-alg-perf-test" method="post">
            <label for="alg_name">Algorithm Name (e.g., kyber512):</label>
            <input type="text" id="alg_name" name="alg_name" value="kyber512"><br><br>
            <label for="test_seconds">Test Duration (seconds):</label>
            <input type="number" id="test_seconds" name="test_seconds" value="2"><br><br>
            <input type="submit" value="Run Algorithm Performance Test" class="run-test-button button">
            
            <!-- Loading module -->
            <div class="loading-module" style="display: none;">
               <div class="loading-spinner"></div>
               <p>Loading...</p>
            </div>
         </form>
      </section>
      <script>
         document.getElementById('alg-test-form').addEventListener('submit', function(event) {
         var algName = document.getElementById('alg_name').value;
         var testSeconds = document.getElementById('test_seconds').value;
         
         // Define supported KEM and signature algorithms
         var supportedAlgorithms = [
            // List all KEM algorithms
            'bikel1', 'p256_bikel1', 'x25519_bikel1', 'bikel3', 'p384_bikel3', 'x448_bikel3', 'bikel5', 'p521_bikel5',
            'kyber512', 'p256_kyber512', 'x25519_kyber512', 'kyber768', 'p384_kyber768', 'x448_kyber768', 'x25519_kyber768', 'p256_kyber768', 'kyber1024', 'p521_kyber1024',
            'frodo640aes', 'p256_frodo640aes', 'x25519_frodo640aes', 'frodo640shake', 'p256_frodo640shake', 'x25519_frodo640shake', 'frodo976aes', 'p384_frodo976aes', 'x448_frodo976aes', 'frodo976shake', 'p384_frodo976shake', 'x448_frodo976shake', 'frodo1344aes', 'p521_frodo1344aes', 'frodo1344shake', 'p521_frodo1344shake',
            'hqc128', 'p256_hqc128', 'x25519_hqc128', 'hqc192', 'p384_hqc192', 'x448_hqc192', 'hqc256', 'p521_hqc256',

            // List all signature algorithms
            'dilithium2', 'p256_dilithium2', 'rsa3072_dilithium2', 'dilithium3', 'p384_dilithium3', 'dilithium5', 'p521_dilithium5',
            'falcon512', 'p256_falcon512', 'rsa3072_falcon512', 'falcon1024', 'p521_falcon1024',
            'sphincssha2128ssimple', 'p256_sphincssha2128ssimple', 'rsa3072_sphincssha2128ssimple', 'sphincssha2192fsimple', 'p384_sphincssha2192fsimple', 'sphincssha2192ssimple', 'p384_sphincssha2192ssimple', 'sphincssha2256fsimple', 'p521_sphincssha2256fsimple', 'sphincssha2256ssimple', 'p521_sphincssha2256ssimple',
            'sphincsshake256128fsimple', 'p256_sphincsshake256128fsimple', 'sphincsshake256128ssimple', 'p256_sphincsshake256128ssimple', 'sphincsshake256192fsimple', 'p384_sphincsshake256192fsimple', 'sphincsshake256192ssimple', 'p384_sphincsshake256192ssimple', 'sphincsshake256256fsimple', 'p521_sphincsshake256256fsimple', 'sphincsshake256256ssimple', 'p521_sphincsshake256256ssimple', 'sphincsshake256ssimple', 'p521_sphincsshake256ssimple',
         ];
         
         // Validate Algorithm Name
         if(!supportedAlgorithms.includes(algName)) {
            event.preventDefault(); 
            alert('Please enter a valid algorithm name.');
            return false;
         }
         
         // Validate Test Duration
         testSeconds = parseInt(testSeconds, 10); // Parse it as a number
         if(isNaN(testSeconds) || testSeconds < 1 || testSeconds > 600) {
            event.preventDefault();
            alert('Please enter a valid test duration between 1 and 600 seconds.');
            return false;
         }
         // If validation passes, show loading module
         var loadingModule = document.querySelector('.loading-module');
         var runTestButton = document.querySelector(".run-test-button");

         runTestButton.style.display = "none";
         loadingModule.style.display = 'block';
         });
      </script>
   </body>
</html>
